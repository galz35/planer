{"numFailedTestSuites":1,"numFailedTests":2,"numPassedTestSuites":0,"numPassedTests":21,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":23,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1768708398871,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["TasksService"],"duration":67,"failureDetails":[],"failureMessages":[],"fullName":"TasksService should be defined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should be defined"},{"ancestorTitles":["TasksService","tareaCrearRapida"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaCrearRapida should create a task with default priority Media","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create a task with default priority Media"},{"ancestorTitles":["TasksService","tareaCrearRapida"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaCrearRapida should use provided priority if specified","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use provided priority if specified"},{"ancestorTitles":["TasksService","tareaCrearRapida"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaCrearRapida should set idCreador correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set idCreador correctly"},{"ancestorTitles":["TasksService","tareaActualizar"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaActualizar should update task when user is creator","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update task when user is creator"},{"ancestorTitles":["TasksService","tareaActualizar"],"duration":93,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaActualizar should throw ResourceNotFoundException for non-existent task","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw ResourceNotFoundException for non-existent task"},{"ancestorTitles":["TasksService","tareaActualizar"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaActualizar should allow admin to update any task","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should allow admin to update any task"},{"ancestorTitles":["TasksService","tareaActualizarOrden"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaActualizarOrden should update task order","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update task order"},{"ancestorTitles":["TasksService","tareaActualizarOrden"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"TasksService tareaActualizarOrden should throw ResourceNotFoundException for non-existent task","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw ResourceNotFoundException for non-existent task"},{"ancestorTitles":["TasksService","bloqueoCrear"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"TasksService bloqueoCrear should create a blocker","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create a blocker"},{"ancestorTitles":["TasksService","bloqueoResolver"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"TasksService bloqueoResolver should resolve a blocker when user is owner","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve a blocker when user is owner"},{"ancestorTitles":["TasksService","bloqueoResolver"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"TasksService bloqueoResolver should throw ResourceNotFoundException for non-existent blocker","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw ResourceNotFoundException for non-existent blocker"},{"ancestorTitles":["TasksService","bloqueoResolver"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"TasksService bloqueoResolver should throw InsufficientPermissionsException when user is not owner","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw InsufficientPermissionsException when user is not owner"},{"ancestorTitles":["TasksService","proyectoCrear"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"TasksService proyectoCrear should create a project","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create a project"},{"ancestorTitles":["TasksService","proyectoActualizar"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"TasksService proyectoActualizar should update project","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update project"},{"ancestorTitles":["TasksService","proyectoActualizar"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"TasksService proyectoActualizar should throw ResourceNotFoundException for non-existent project","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw ResourceNotFoundException for non-existent project"},{"ancestorTitles":["TasksService","proyectoEliminar"],"duration":10,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"estado\": \"Archivado\"}\n\nNumber of calls: 0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: ObjectContaining {\"estado\": \"Archivado\"}\n\nNumber of calls: 0\n    at Object.toHaveBeenCalledWith (D:\\planificacion\\backend\\src\\clarity\\tasks.service.spec.ts:331:43)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"TasksService proyectoEliminar should archive project (soft delete)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should archive project (soft delete)"},{"ancestorTitles":["TasksService","proyectoEliminar"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"TasksService proyectoEliminar should throw ResourceNotFoundException for non-existent project","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw ResourceNotFoundException for non-existent project"},{"ancestorTitles":["TasksService","proyectoObtener"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"TasksService proyectoObtener should return project with tasks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return project with tasks"},{"ancestorTitles":["TasksService","proyectoObtener"],"duration":5,"failureDetails":[{"message":"expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: null"}],"failureMessages":["Error: expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: null\n    at expect (D:\\planificacion\\backend\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.expect (D:\\planificacion\\backend\\src\\clarity\\tasks.service.spec.ts:358:19)\n    at Promise.then.completed (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at _runTest (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\planificacion\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\planificacion\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\planificacion\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"TasksService proyectoObtener should throw ResourceNotFoundException for non-existent project","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw ResourceNotFoundException for non-existent project"},{"ancestorTitles":["TasksService","checkinUpsert"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"TasksService checkinUpsert should create new checkin if none exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create new checkin if none exists"},{"ancestorTitles":["TasksService","checkinUpsert"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"TasksService checkinUpsert should update existing checkin","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update existing checkin"},{"ancestorTitles":["TasksService","equipoHoy"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"TasksService equipoHoy should handle empty team gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle empty team gracefully"}],"endTime":1768708403059,"message":"  ÔùÅ TasksService ÔÇ║ proyectoEliminar ÔÇ║ should archive project (soft delete)\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: ObjectContaining {\"estado\": \"Archivado\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 329 |\u001b[39m             \u001b[36mawait\u001b[39m service\u001b[33m.\u001b[39mproyectoEliminar(\u001b[35m1\u001b[39m\u001b[33m,\u001b[39m \u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 330 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 331 |\u001b[39m             expect(mockProyectoRepo\u001b[33m.\u001b[39msave)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 332 |\u001b[39m                 estado\u001b[33m:\u001b[39m \u001b[32m'Archivado'\u001b[39m\n     \u001b[90m 333 |\u001b[39m             }))\u001b[33m;\u001b[39m\n     \u001b[90m 334 |\u001b[39m             expect(auditService\u001b[33m.\u001b[39mlog)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (clarity/tasks.service.spec.ts:331:43)\n\n  ÔùÅ TasksService ÔÇ║ proyectoObtener ÔÇ║ should throw ResourceNotFoundException for non-existent project\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: null\n\n    \u001b[0m \u001b[90m 356 |\u001b[39m             mockProyectoRepo\u001b[33m.\u001b[39mfindOne\u001b[33m.\u001b[39mmockResolvedValue(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 357 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 358 |\u001b[39m             \u001b[36mawait\u001b[39m expect(service\u001b[33m.\u001b[39mproyectoObtener(\u001b[35m999\u001b[39m))\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 359 |\u001b[39m                 \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[33mResourceNotFoundException\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 361 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at expect (../node_modules/expect/build/index.js:113:15)\n      at Object.expect (clarity/tasks.service.spec.ts:358:19)\n","name":"D:\\planificacion\\backend\\src\\clarity\\tasks.service.spec.ts","startTime":1768708399237,"status":"failed","summary":""}],"wasInterrupted":false}
